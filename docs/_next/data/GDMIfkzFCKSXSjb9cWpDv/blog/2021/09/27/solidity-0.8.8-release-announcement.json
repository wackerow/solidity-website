{"pageProps":{"frontmatter":{"layout":"post","published":true,"title":"Solidity 0.8.8 Release Announcement","date":"2021-09-27","author":"Solidity Team","category":"Releases"},"content":"\n[Solidity v0.8.8](https://github.com/ethereum/solidity/releases/tag/v0.8.8) introduces user defined\nvalue types as a major feature. The `override` keyword is now optional for interface functions,\n`immutable` variables can be read in the constructor, there is support for retrieving the smallest\nand largest value of an enum, you can specify include directories and the commandline interface was cleaned up.\nFurthermore, we fixed several bugs and the SMTChecker has improved language coverage.\n\n## Notable New Features\n\n### User Defined Value Types\n\nA user defined value type allows creating a zero-cost-abstraction over an elementary value type that\nalso increases type safety and improves readability. Details can be found in this deep dive [blog\npost](https://blog.soliditylang.org/2021/09/27/user-defined-value-types/).\n\n### No Override for Interface Functions\n\nA function that overrides only a single interface function does not require the override specifier.\n\n```solidity\n// SPDX-License-Identifier: GPL-3.0\npragma solidity ^0.8.8;\n\ninterface IMinimalERC20 {\n     function transfer(address to, uint value) external;\n}\n\ncontract MinimalERC20 is IMinimalERC20 {\n     // Before version 0.8.8, this function declaration required\n     // specifying the override keyword, i.e.,\n     // `function transfer(address to, uint value) external override ...`\n     function transfer(address to, uint value) external {\n         // ...\n     }\n}\n```\n\n### `min` and `max` for Enums\n\nThe smallest and the largest value of an [enum\ntype](https://docs.soliditylang.org/en/latest/structure-of-a-contract.html?#enum-types) can now be\naccessed using `type(E).min` and `type(E).max` respectively.\n\n```solidity\n// SPDX-License-Identifier: GPL-3.0\npragma solidity ^0.8.8;\n\nenum AuctionState {Created, InProgress, Completed}\n\n// returns AuctionState.Created\nfunction min() pure returns (AuctionState) {\n    return type(AuctionState).min;\n}\n\n// returns AuctionState.Completed\nfunction max() pure returns (AuctionState) {\n    return type(AuctionState).max;\n}\n```\n\n### Reading From Immutable Variables\n\nImmutable variables can be read at construction time once they are initialized.\n\n```solidity\n// SPDX-License-Identifier: GPL-3.0\npragma solidity ^0.8.8;\n\ninterface IMockInterface {\n    function getValue() external returns(uint);\n}\n\ncontract ImmutableExample {\n    uint immutable value;\n\n    event setValue(uint);\n\n    constructor(IMockInterface mockContract) {\n        // Sets the immutable variable.\n        value = mockContract.getValue();\n        // Reads the immutable variable.\n        emit setValue(value);\n    }\n}\n```\n\nAs you probably know, it is also possible to initialize immutable variables\nat the point of their declaration, for example `uint immutable deployTime = block.timestamp;`.\nBecause the order of initialization is not\nalways obvious, such immutable variables are only considered initialized once\nthe constructor is executed. This means you can read from such variables\ninside the constructor but you cannot use them to initialize other\nimmutable variables at the point of their declaration.\n\n### Import Include Paths\n\nWe added the new commandline option `--include-path` that hopefully makes it much easier to compile\nmore complicated projects using multiple libraries. It is available in `solcjs` and `solc` both in legacy\nand standard-json mode. You can use it to specify\ndirectories where source files are looked up when `import` statements are resolved. If you use\n`npm` to install Solidity packages, they are usually placed in a subdirectory below\n`node_modules`. If you use imports of the form `import X from \"@packagename/contracts/x.sol\";`,\nthen invoking the compiler as follows should properly resolve all imports without further work\n(the base path and the include paths will be added to the \"allowed paths\", for example):\n\n```bash\nsolc contract.sol --base-path . --include-path node_modules/\n```\n\nThe previously introduced option `--base-path` provides a path where the lookup is performed\nfirst. If it fails, the include paths are searched for the file.\n\nIt is often a source of frustration that the Solidity compiler stores the full path\nto a source file as part of the metadata, which sometimes makes it more difficult to\nreproduce a compilation when not using the standard-json mode.\n\nIf you use `--base-path` and `--include-path`, then only relative paths to files located inside them will be stored in\nthe metadata and thus should make it much easier to recompile the contracts to\nexactly the same binary on different systems.\n\nOn the other hand, if you provide any files to compile on the commandline that are\nnot inside either the base path or an include path, these files will be named\nby their absolute path on your system and thus will end up like that in the metadata.\n\nCurrently, some projects use remappings to resolve dependencies and we believe\nthat the \"import path\" feature is a better way to solve the same problem.\nRemappings are really only meant to change how the compiler sees its own internal\nfile-system and to e.g. allow two different versions of the same library to\nbe used in one contract or project.\n\n## Full Changelog\n\nLanguage Features:\n\n- Inheritance: A function that overrides only a single interface function does not require the `override` specifier.\n- Type System: Support `type(E).min` and `type(E).max` for enums.\n- User Defined Value Type: allows creating a zero cost abstraction over a value type with stricter type requirements.\n\nCompiler Features:\n\n- Commandline Interface: Add `--include-path` option for specifying extra directories that may contain importable code (e.g. packaged third-party libraries).\n- Commandline Interface: Do not implicitly run evm bytecode generation unless needed for the requested output.\n- Commandline Interface: Normalize paths specified on the command line and make them relative for files located inside base path and/or include paths.\n- Immutable variables can be read at construction time once they are initialized.\n- SMTChecker: Add constraints to better correlate `address(this).balance` and `msg.value`.\n- SMTChecker: Support constants via modules.\n- SMTChecker: Support low level `call` as external calls to unknown code.\n- SMTChecker: Support the `value` option for external function calls.\n- SMTChecker: Support user defined value types.\n\nBugfixes:\n\n- Code Generator: Fix ICE on assigning to calldata structs and statically-sized calldata arrays in inline assembly.\n- Code Generator: Use stable source order for ABI functions.\n- Commandline Interface: Disallow the `--experimental-via-ir` option in Standard JSON, Assembler and Linker modes.\n- Commandline Interface: Fix resolution of paths whitelisted with `--allowed-paths` or implicitly due to base path, remappings and files being compiled. Correctly handle paths that do not match imports exactly due to being relative, non-normalized or empty.\n- Commandline Interface: Report optimizer options as invalid in Standard JSON and linker modes instead of ignoring them.\n- Name Resolver: Fix that when importing an aliased symbol using `import {AliasedName} from \"a.sol\"` it would use the original name of the symbol and not the aliased one.\n- Opcode Optimizer: Prevent the optimizer from running multiple times to avoid potential bytecode differences for referenced code.\n- Parser: Properly check for multiple SPDX license identifiers next to each other and validate them.\n- SMTChecker: Fix BMC's constraints regarding internal functions.\n- SMTChecker: Fix false negative caused by `push` on storage array references returned by internal functions.\n- SMTChecker: Fix false positive in external calls from constructors.\n- SMTChecker: Fix internal error on some multi-source uses of `abi.*`, cryptographic functions and constants.\n- Standard JSON: Fix non-fatal errors in Yul mode being discarded if followed by a fatal error.\n- Type Checker: Correct wrong error message in inline assembly complaining about `.slot` or `` .offset` not valid when actually  ``.length`` was used.\n- Type Checker: Disallow modifier declarations and definitions in interfaces.\n- Yul Optimizer: Fix a crash in LoadResolver, when `keccak256` has particular non-identifier arguments.\n\nA big thank you to all contributors who helped make this release possible!\n\nDownload the new version of Solidity [here](https://github.com/ethereum/solidity/releases/tag/v0.8.8).\n","availableURLs":["/2023/05/10/solidity-0.8.20-release-announcement","/2023/03/10/solidity-developer-survey-2022-results","/2023/02/22/user-defined-operators","/2023/02/22/solidity-0.8.19-release-announcement","/2023/02/01/solidity-0.8.18-release-announcement","/2022/12/07/solidity-developer-survey-2022-announcement","/2022/12/05/solidity-core-team-updates","/2022/09/08/storage-write-removal-before-conditional-termination","/2022/09/08/solidity-0.8.17-release-announcement","/2022/08/08/solidity-0.8.16-release-announcement","/2022/08/08/calldata-tuple-reencoding-head-overflow-bug","/2022/06/15/solidity-0.8.15-release-announcement","/2022/06/15/inline-assembly-memory-side-effects-bug","/2022/06/15/dirty-bytes-array-to-storage-bug","/2022/05/17/solidity-0.8.14-release-announcement","/2022/05/17/data-location-inheritance-bug","/2022/05/17/calldata-reencode-size-check-bug","/2022/05/03/solidity-summit-2022-recap","/2022/04/08/announcing-the-underhanded-contest-winners-2022","/2022/03/16/solidity-0.8.13-release-announcement","/2022/03/16/encodecall-bug","/2022/02/22/solidity-summit-2022-announcement","/2022/02/16/solidity-0.8.12-release-announcement","/2022/02/09/underhanded-solidity-contest-2022-announcement","/2022/02/07/solidity-developer-survey-2021-results","/2021/12/20/solidity-0.8.11-release-announcement","/2021/11/18/solidity-developer-survey-2021","/2021/11/09/solidity-0.8.10-release-announcement","/2021/09/29/user-defined-value-types-bug","/2021/09/29/solidity-0.8.9-release-announcement","/2021/09/29/signed-immutables-bug","/2021/09/27/user-defined-value-types","/2021/09/27/solidity-0.8.8-release-announcement","/2021/08/11/solidity-0.8.7-release-announcement","/2021/06/22/solidity-0.8.6-release-announcement","/2021/06/10/solidity-0.8.5-release-announcement","/2021/05/03/soliditylangorg-umbrella-domain","/2021/04/21/solidity-0.8.4-release-announcement","/2021/04/21/decoding-from-memory-bug","/2021/04/21/custom-errors","/2021/04/01/announcing-solidity-collectibles","/2021/03/23/solidity-0.8.3-release-announcement","/2021/03/23/keccak-optimizer-bug","/2021/03/02/solidity-0.8.2-release-announcement","/2021/03/02/saving-gas-with-simple-inliner","/2021/02/15/contributing-to-solidity-101","/2021/02/10/an-introduction-to-soliditys-fuzz-testing-approach","/2021/02/01/launching-the-solidity-forum","/2021/01/27/solidity-0.8.1-release-announcement","/2021/01/26/solidity-developer-survey-2020-results","/2020/12/16/solidity-v0.8.0-release-announcement","/2020/12/16/solidity-0.7.6-release-announcement","/2020/12/09/solidity-developer-survey-2020","/2020/12/03/solidity-underhanded-contest-winners","/2020/11/18/solidity-0.7.5-release-announcement","/2020/11/04/solidity-ama-1-recap","/2020/10/28/solidity-0.8.x-preview","/2020/10/19/solidity-0.7.4-release-announcement","/2020/10/19/empty-byte-array-copy-bug","/2020/10/07/solidity-dynamic-array-cleanup-bug","/2020/10/07/solidity-0.7.3-release-announcement","/2020/09/28/solidity-0.7.2-release-announcement","/2020/09/21/solidity-underhanded-contest","/2020/09/18/meet-the-team","/2020/09/02/solidity-0.7.1-release-announcement","/2020/07/28/solidity-v0.7.0-release-announcement","/2020/07/22/Solidity-0612-release-announcement","/2020/07/08/solidity-turns-5","/2020/07/07/Solidity-0611-release-announcement","/2020/06/25/sourcify-faq","/2020/06/18/solidity-0.6-inheritance","/2020/06/11/Solidity-0610-release-announcement","/2020/06/09/solidity-summit-recap","/2020/06/05/Solidity-069-release-announcement","/2020/06/02/Sourcify-Towards-Safer-Contract-Interaction-for-Humans","/2020/05/26/array-slices","/2020/05/14/Solidity-068-release-announcement","/2020/05/13/immutable-keyword","/2020/05/04/solidity-0.6.7-release-announcement","/2020/04/17/Solidity-Summit-2020-Goes-Interspace","/2020/04/09/solidity-0.6.6-release-announcement","/2020/04/06/solidity-0.6.5-release-announcement","/2020/04/06/memory-creation-overflow-bug","/2020/03/23/fallback-receive-split","/2020/03/17/solidity-0.5.17-release-announcement","/2020/03/10/solidity-0.6.4-release-announcement","/2020/02/18/solidity-0.6.3-release-announcement","/2020/01/29/solidity-0.6-try-catch","/2020/01/27/solidity-0.6.2-release-announcement","/2020/01/02/solidity-0.6.1-release-announcement","/2020/01/02/solidity-0.5.16-release-announcement","/2019/12/17/solidity-0.6.0-release-announcement","/2019/12/17/solidity-0.5.15-release-announcement","/2019/12/09/solidity-0.5.14-release-announcement","/2019/11/14/solidity-0.5.13-release-announcement","/2019/10/01/solidity-0.5.12-release-announcement","/2019/08/12/solidity-0.5.11-release-announcement","/2019/06/25/solidity-storage-array-bugs","/2019/06/25/solidity-0.5.10-release-announcement","/2019/05/28/solidity-0.5.9-release-announcement","/2019/04/30/solidity-0.5.8-release-announcement","/2019/04/29/solidity-0.4.26-release-announcement","/2019/03/26/solidity-optimizer-and-abiencoderv2-bug","/2019/03/26/solidity-0.5.7-release-announcement","/2019/03/13/solidity-0.5.6-release-announcement","/2019/03/05/solidity-0.5.5-release-announcement","/2019/02/12/solidity-0.5.4-release-announcement","/2019/01/22/solidity-0.5.3-release-announcement","/2018/12/19/solidity-0.5.2-release-announcement","/2018/12/03/solidity-0.5.1-release-announcement","/2018/11/13/solidity-0.5.0-release-announcement","/2018/09/13/solidity-bugfix-release","/2018/09/13/solidity-0.4.25-release-announcement","/2018/05/16/solidity-0.4.24-release-announcement","/2018/04/19/solidity-0.4.23-release-announcement","/2018/04/17/solidity-0.4.22-release-announcement","/2018/03/08/solidity-0.4.21-release-announcement","/2018/02/14/solidity-0.4.20-release-announcement","/2017/11/30/solidity-0.4.19-release-announcement","/2017/10/18/solidity-0.4.18-release-announcement","/2017/09/21/solidity-0.4.17-release-announcement","/2017/08/24/solidity-0.4.16-release-announcement","/2017/08/08/solidity-0.4.15-release-announcement","/2017/07/31/solidity-0.4.14-release-announcement","/2017/07/06/solidity-0.4.13-release-announcement","/2017/07/03/solidity-0.4.12-release-announcement","/2017/05/03/solidity-optimizer-bug","/2017/05/03/solidity-0.4.11-release-announcement","/2017/03/15/solidity-0.4.10-release-announcement","/2017/01/31/solidity-0.4.9-release-announcement","/2017/01/13/solidity-0.4.8-release-announcement","/2016/12/15/solidity-0.4.7-release-announcement","/2016/11/22/solidity-0.4.6-release-announcement","/2016/11/21/solidity-0.4.5-release-announcement","/2016/11/09/analysis-storage-corruption-bug","/2016/11/01/solidity-0.4.4-release-announcement","/2016/11/01/security-alert-solidity-variables-can-overwritten-storage","/2016/10/25/solidity-0.4.3-release-announcement","/2016/09/17/solidity-0.4.2-release-announcement","/2016/09/09/solidity-0.4.1-release-announcement","/2016/09/08/solidity-0.4.0-release-announcement","/2016/09/01/formal-methods-roadmap","/2016/08/10/solidity-0.3.6-release-announcement","/2016/06/10/solidity-0.3.5-release-announcement","/2016/06/10/smart-contract-security","/2016/05/31/solidity-0.3.4-release-announcement","/2016/05/27/solidity-0.3.3-release-announcement","/2016/04/18/solidity-0.3.2-release-announcement","/2016/03/31/solidity-0.3.1-release-announcement","/2016/03/11/solidity-0.3.0-release-announcement","/2016/02/17/solidity-0.2.2-release-announcement","/2016/01/30/solidity-0.2.1-release-announcement","/2015/12/01/solidity-0.2.0-release-announcement","/2015/11/17/solidity-0.1.7-release-announcement","/2015/10/16/solidity-0.1.6-release-announcement","/2015/10/07/solidity-0.1.5-release-announcement","/2015/09/30/solidity-0.1.4-release-announcement","/2015/09/22/solidity-0.1.3-release-announcement","/2015/08/21/solidity-0.1.2-release-announcement"]},"__N_SSG":true}